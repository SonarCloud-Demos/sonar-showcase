# NPM Security Configuration
# Prevents dependency confusion attacks and malicious package installation

# Security Settings
audit=true
audit-level=moderate
fund=false

# Prevent installation of packages with known vulnerabilities
# This helps prevent dependency confusion attacks like SNYK-JS-MAVENCOMPILERPLUGIN-3091064
engine-strict=true

# Use only official npm registry
registry=https://registry.npmjs.org/
# Prevent using alternative registries that might host malicious packages
@*:registry=https://registry.npmjs.org/

# Security: Require package-lock.json
package-lock=true

# Security: Prevent scripts from running during install (can be overridden per package)
ignore-scripts=false

# Security: Use strict SSL
strict-ssl=true

# Security: Save exact versions (no ^ or ~)
save-exact=false

# Security: Prevent installation of packages with security issues
# Note: This requires npm audit to be run separately
# Consider using: npm audit --audit-level=moderate

# Documentation:
# - SNYK-JS-MAVENCOMPILERPLUGIN-3091064: Malicious npm package 'maven-compiler-plugin'
#   This is a dependency confusion attack targeting developers who might confuse
#   the legitimate Maven plugin (org.apache.maven.plugins:maven-compiler-plugin)
#   with a malicious npm package of the same name.
# - Always verify package names and sources before installation
# - Use package-lock.json to lock exact versions
# - Run 'npm audit' regularly to detect vulnerabilities
