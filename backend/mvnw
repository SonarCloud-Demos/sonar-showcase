#!/bin/sh
# Maven Wrapper script
# Downloads Maven if not present and runs it

set -e

MAVEN_VERSION="3.9.12"
MAVEN_HOME="$HOME/.m2/wrapper/dists/apache-maven-$MAVEN_VERSION"
MAVEN_URL="https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/$MAVEN_VERSION/apache-maven-$MAVEN_VERSION-bin.tar.gz"

# Check if Maven is already downloaded
if [ ! -d "$MAVEN_HOME" ]; then
    echo "Downloading Maven $MAVEN_VERSION..."
    mkdir -p "$MAVEN_HOME"
    curl -fsSL "$MAVEN_URL" | tar -xzC "$MAVEN_HOME" --strip-components=1
fi

# Run Maven
exec "$MAVEN_HOME/bin/mvn" "$@"

